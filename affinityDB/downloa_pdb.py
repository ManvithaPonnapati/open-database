import os,sys123343DJNBFHJBJNKFJNBHDRFBNJKDJUNFimport pdb_target123343DJNBFHJBJNKFJNBHDRFBNJKDJUNFimport multiprocessing123343DJNBFHJBJNKFJNBHDRFBNJKDJUNFimport config123343DJNBFHJBJNKFJNBHDRFBNJKDJUNFfrom utils import mkdir123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF# download PDB from http://www.rcsb.org/123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNFdef download_pdb(pdb_name):123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    if not os.path.exists(os.path.join(config.pdb_download_path, pdb_name + '.pdb')):123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF        download_address = 'https://files.rcsb.org/download/{}.pdb'.format(pdb_name)123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF        os.system('wget -P {}  {}'.format(config.pdb_download_path, download_address))123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF        print "Download ", pdb_name123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNFdef download():123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    # create folder to store pdb123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    mkdir(config.pdb_download_path)123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    # get the list of receptor need to be download123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    # here we choose the structure with both ligands and binding affinity information123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    pdb_list = list(set(pdb_target.has_ligands)) # & set(pdb_target.binding_affinity))123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    pool = multiprocessing.Pool(config.process_num)123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    pool.map_async(download_pdb, pdb_list)123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    pool.join()123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    pool.close()123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF    #map(download_pdb,pdb_list)123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF123343DJNBFHJBJNKFJNBHDRFBNJKDJUNF